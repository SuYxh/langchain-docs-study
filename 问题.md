问题





1、 createAgent、initChatModel、ChatOpenAI、checkpointer 这些 API 有什么区别？

initChatModel("google-genai:gemini-2.5-flash-lite");   这是什么意思呢？ google-genai:gemini-2.5-flash-lite 

initChatModel 如何设置 apikey ？



2、我设置了 responseFormat ，就一定能得到对应的结构吗？ langchain 是如何保证的呢？ 我在代码中设置了 responseFormat， 还需要在系统提示词中要求输出结构为  responseFormat 的格式呢？

3、langchain 自动处理了 tool 调用吗？ 就是判断大模型如果返回的是 tool_call 然后调用工具方法

4、动态工具没有看懂？ 当工具失败时，Agent 将返回带有自定义错误消息

5、ReAct Agent 的系统提示词有没有需要注意的呢？ 

6、看下 Agents 中的 系统提示 (System prompt) 部分， 带有 `{ type: "ephemeral" }` 的 `cache_control` 字段告诉 Anthropic 缓存该内容块，从而减少使用相同系统提示的重复请求的延迟和成本。

7、contextSchema 这个是做什么的呢？

8、动态系统提示 是只适配当前对话，还是说后续的对话都使用更新后的系统提示词呢？

9、在 记忆 这个小节出现了  StateSchema  这个 API 有什么用呢？

10、流式输出中 streamMode 有多少种呢？

11、langchain 的中间件在技术上是如何实现的呢？ 和 koa 框架的 洋葱模型是一样的吗？

12、有关特定于提供商的集成信息和功能，请参阅提供商的 [聊天模型页面](/oss/javascript/integrations/chat)。 

13、langchain 支持多模态吗？ 如何输出视频、图片呢？

14、stream 流式输出. block.type 是什么意思呢？ model.stream 和 model.streamEvents 有什么区别？

```
const stream = await model.stream("What color is the sky?");
for await (const chunk of stream) {
  for (const block of chunk.contentBlocks) {
    if (block.type === "reasoning") {
      console.log(`Reasoning: ${block.reasoning}`);
    } else if (block.type === "tool_call_chunk") {
      console.log(`Tool call chunk: ${block}`);
    } else if (block.type === "text") {
      console.log(block.text);
    } else {
      ...
    }
  }
}
```

```
let full: AIMessageChunk | null = null;
for await (const chunk of stream) {
  full = full ? full.concat(chunk) : chunk;
  console.log(full.text);
}

// The
// The sky
// The sky is
// The sky is typically
// The sky is typically blue
// ...

console.log(full.contentBlocks);
// [{"type": "text", "text": "The sky is typically blue..."}]
```





15、toolChoice 这里没有看懂？当流式传输响应时，工具调用通过 [`ToolCallChunk`](https://reference.langchain.com/javascript/classes/_langchain_core.messages.ToolCallChunk.html) 逐步构建，这块再看下？

16、了解一下 zod schema  ，这个是怎么做结构化输出的？ 这个在 models 章节提到过

以下的 describe 方法有什么用呢？

```
const Movie = z.object({
  title: z.string().describe("The title of the movie"), // 电影标题
  year: z.number().describe("The year the movie was released"), // 电影上映年份
  director: z.string().describe("The director of the movie"), // 电影导演
  rating: z.number().describe("The movie's rating out of 10"), // 电影评分（满分 10 分）
});
```

`'jsonSchema'`, `'functionCalling'`, `'jsonMode'`  jsonMode 是什么意思？ 哪些模型支持？





17、langchain 如何加载本地的模型呢？ 



18、大量的参考上下文应该放在哪里？ 系统提示词中 还是 用户提示词中呢？

- 必须遵守的应该放在哪里？
- 参考类型的，比如教学方法之类的应该放在哪里？





19. 使用 SystemMessage 、HumanMessage  和  直接写提示词文本有什么区别呢？ 哪个更好呢？



20、 File ID  是从哪里获取的呢？

 // From provider-managed File ID
  const message = new HumanMessage({
    content: [
      { type: "text", text: "Describe the content of this image." },
      { type: "image", source_type: "id", id: "file-abc123" },
    ],
  });





21. tool 中的 writer 有什么用处呢？
22. 